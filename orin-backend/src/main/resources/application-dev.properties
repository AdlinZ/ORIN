# Development Environment Configuration
# This configuration is for local development only

# Database Configuration (Development)
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:orindb}?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:password}
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# JPA / Hibernate (Development - auto-update schema)
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true

# Logging (Development - verbose logging)
logging.level.com.adlin.orin=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Redis Configuration (Development)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0

# Dify Integration Configuration (Development)
dify.api.timeout=${DIFY_API_TIMEOUT:30000}
dify.default.endpoint=${DIFY_DEFAULT_ENDPOINT:http://localhost:3000/v1}
dify.health.check.interval=${DIFY_HEALTH_CHECK_INTERVAL:60000}

# JWT Configuration (Development)
jwt.secret=${JWT_SECRET:dev-secret-key-only-for-development-do-not-use-in-production-must-be-at-least-256-bits}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Rate Limiting (Development - more lenient)
rate.limit.requests=${RATE_LIMIT_REQUESTS:1000}
rate.limit.period=${RATE_LIMIT_PERIOD:60}

# Actuator Configuration (Development - expose all endpoints)
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.endpoint.loggers.enabled=true
management.endpoint.metrics.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.cache.instrument-cache=true

# Flyway Configuration (Development)
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true
spring.flyway.out-of-order=false
